# TTM Squeeze Forex Trading Webapp - Implement√°ci√≥s Terv

Egy komplex, val√≥s idej≈± forex trading webapp l√©trehoz√°sa a TTM Squeeze momentum strat√©gia alapj√°n. A rendszer automatikusan monitoroz t√∂bb devizap√°rt, detekt√°lja a squeeze/fire √°llapotokat, √©s Telegram √©rtes√≠t√©seket k√ºld.

## User Review Required

> [!IMPORTANT]
> **Telegram Bot Token:** A Telegram √©rtes√≠t√©sek m≈±k√∂d√©s√©hez sz√ºks√©ges lesz egy Telegram Bot Token √©s a Chat ID. Ezeket k√©s≈ëbb adhatod meg k√∂rnyezeti v√°ltoz√≥kban.

> [!IMPORTANT]
> **Forex Adatforr√°s:** A webapp alap√©rtelmezetten `yfinance` k√∂nyvt√°rat fog haszn√°lni ingyenes forex adatokhoz. Ha OANDA vagy m√°s pr√©mium API-t szeretn√©l haszn√°lni, azt k√©s≈ëbb be tudjuk integr√°lni.

> [!IMPORTANT]
> **Hosting √©s 24/7 Fut√°s:** A kezdeti verzi√≥ lok√°lisan fut. Ha 24/7 m≈±k√∂d√©st szeretn√©l (cloud hosting), azt egy k√©s≈ëbbi f√°zisban tudjuk megval√≥s√≠tani (pl. PythonAnywhere, Railway, vagy VPS).

## Proposed Changes

### Backend - Core Trading Logic

#### [NEW] [ttm_squeeze.py](file:///c:/Users/Tomi/FOREX/ttm_squeeze.py)

A TTM Squeeze strat√©gia sz√°m√≠t√°si motorja. Tartalmazza:
- **Bollinger Bands sz√°m√≠t√°s** (20 peri√≥dus, 2.0 sz√≥r√°s)
- **Keltner Channels sz√°m√≠t√°s** (20 peri√≥dus, 1.5 ATR)
- **Squeeze detekt√°l√°s** (BB bel√ºl KC-n)
- **Momentum oszcill√°tor** (Linear regression based)
- **Signal generation** (BUY/SELL/WAIT logic)

Funkci√≥k:
- `calculate_bollinger_bands(df)` - BB sz√°m√≠t√°s
- `calculate_keltner_channels(df)` - KC sz√°m√≠t√°s
- `calculate_ttm_squeeze(df)` - Teljes TTM indik√°tor
- `check_signal(df)` - Jelz√©s gener√°l√°s (squeeze fire detekt√°l√°s)

---

#### [NEW] [data_fetcher.py](file:///c:/Users/Tomi/FOREX/data_fetcher.py)

Forex adatok let√∂lt√©se √©s kezel√©se. Funkci√≥k:
- `fetch_forex_data(symbol, period, interval)` - Adatok let√∂lt√©se yfinance-r√≥l
- `get_latest_candles(symbol, count)` - Legfrissebb gyerty√°k lek√©r√©se
- T√°mogatott devizap√°rok: `EURUSD=X`, `GBPUSD=X`, `USDJPY=X`, `GBPJPY=X`, `AUDUSD=X`

---

#### [NEW] [telegram_notifier.py](file:///c:/Users/Tomi/FOREX/telegram_notifier.py)

Telegram √©rtes√≠t√©si rendszer. Funkci√≥k:
- `send_telegram_alert(signal_type, symbol, price, momentum)` - Alert k√ºld√©s
- Form√°zott √ºzenetek BUY/SELL jelz√©sekhez
- Emoji-k √©s struktur√°lt form√°z√°s

---

### Frontend - Streamlit Dashboard

#### [NEW] [app.py](file:///c:/Users/Tomi/FOREX/app.py)

A f≈ë Streamlit alkalmaz√°s. Funkci√≥k:
- **Multi-pair monitoring t√°bl√°zat:**
  - Devizap√°r neve
  - Aktu√°lis √°r
  - Squeeze st√°tusz (üü¢ ON / üî¥ OFF)
  - Momentum ir√°ny (‚ÜóÔ∏è Pozit√≠v / ‚ÜòÔ∏è Negat√≠v)
  - Signal (üöÄ BUY / üîª SELL / ‚è∏Ô∏è WAIT)
- **Auto-refresh:** 15 m√°sodpercenk√©nt friss√ºl
- **Premium dark mode design:**
  - Glassmorphism effekt
  - Vibr√°ns sz√≠nek (z√∂ld/piros jelz≈ëk)
  - Modern tipogr√°fia (Google Fonts - Inter)
  - Smooth anim√°ci√≥k

---

#### [NEW] [styles.css](file:///c:/Users/Tomi/FOREX/styles.css)

Custom CSS a Streamlit apphoz. Tartalmazza:
- Dark mode sz√≠npaletta
- Glassmorphism card st√≠lusok
- T√°bl√°zat form√°z√°s (Ëâ≤coded signals)
- Hover effektek
- Responsive design

---

### Configuration & Dependencies

#### [NEW] [requirements.txt](file:///c:/Users/Tomi/FOREX/requirements.txt)

Python f√ºgg≈ës√©gek:
```
streamlit
pandas
numpy
yfinance
ta-lib-bin  # Windows binary for TA-Lib
requests
python-dotenv
```

---

#### [NEW] [.env.example](file:///c:/Users/Tomi/FOREX/.env.example)

K√∂rnyezeti v√°ltoz√≥k sablon:
```
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here
```

---

#### [NEW] [config.py](file:///c:/Users/Tomi/FOREX/config.py)

Alkalmaz√°s konfigur√°ci√≥:
- Figyelt devizap√°rok list√°ja
- Timeframe be√°ll√≠t√°sok (default: 1h)
- Indik√°tor param√©terek (BB periods, KC multiplier, stb.)
- Telegram be√°ll√≠t√°sok (opcion√°lis)

---

### Automation Scripts

#### [NEW] [scheduler.py](file:///c:/Users/Tomi/FOREX/scheduler.py)

Automatikus ellen≈ërz√©s √©s jelz√©s. Funkci√≥k:
- Id≈ëz√≠tett fut√°s (15 percenk√©nt vagy √≥r√°nk√©nt)
- Minden devizap√°r ellen≈ërz√©se
- Signal detekt√°l√°s eset√©n Telegram alert
- Logging (milyen jelz√©sek mentek ki, mikor)

Futtat√°s: `python scheduler.py` (h√°tt√©rben fut folyamatosan)

---

### Documentation

#### [NEW] [README.md](file:///c:/Users/Tomi/FOREX/README.md)

R√©szletes dokument√°ci√≥:
- Projekt le√≠r√°s
- TTM Squeeze strat√©gia magyar√°zat
- Telep√≠t√©si √∫tmutat√≥
- Haszn√°lati √∫tmutat√≥
- Telegram bot setup
- Troubleshooting

## Verification Plan

### Automated Tests

1. **Indik√°tor sz√°m√≠t√°sok ellen≈ërz√©se:**
   ```bash
   python -c "from ttm_squeeze import calculate_ttm_squeeze; import yfinance as yf; df = yf.download('EURUSD=X', period='1mo', interval='1h'); result = calculate_ttm_squeeze(df); print(result.tail())"
   ```
   - Ellen≈ërizz√ºk, hogy a BB √©s KC √©rt√©kek sz√°m√≠t√≥dnak
   - Squeeze_On flag helyesen √°ll√≠t√≥dik

2. **Signal generation teszt:**
   - T√∂rt√©nelmi adatokon ellen≈ërizz√ºk a squeeze fire detekt√°l√°st
   - Valid√°ljuk, hogy csak squeeze->fire √°tmenetn√©l jelz√ºnk

3. **Dashboard futtat√°s:**
   ```bash
   streamlit run app.py
   ```
   - Ellen≈ërizz√ºk a multi-pair t√°bl√°zat megjelen√©s√©t
   - Auto-refresh m≈±k√∂d√©s√©t
   - Design elemeket (dark mode, sz√≠nek, anim√°ci√≥k)

### Manual Verification

1. **Telegram √©rtes√≠t√©s teszt:**
   - Manu√°lisan k√ºld√ºnk egy teszt √ºzenetet
   - Ellen≈ërizz√ºk a form√°z√°st √©s az emoji-kat

2. **Scheduler teszt:**
   - 5 percig futtatjuk a scheduler-t
   - N√©zem a log output-ot
   - Ellen≈ërz√∂m, hogy nem k√ºld felesleges alertet (csak squeeze fire eset√©n)

3. **UI/UX Review:**
   - Dashboard vizu√°lis megjelen√©s √°ttekint√©se
   - Sz√≠nk√≥dol√°s √©rthet≈ës√©ge
   - Reszponzivit√°s k√ºl√∂nb√∂z≈ë k√©perny≈ëm√©reteken
